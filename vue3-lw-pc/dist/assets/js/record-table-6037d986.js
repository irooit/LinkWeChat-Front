import{I as t,d as e,W as a}from"../index-044285d2.js";import{_ as s}from"./quill-image-resize-module-c051113e.js";import{ai as r,aq as i,V as o,o as l,c as p,_ as n,U as m,T as u,Y as d,Z as g,X as c,a as j}from"./@vue-e400fd81.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const h={class:"ac"};const y=s({name:"record-table",props:{stageList:{type:Array,default:[]},userId:{type:String,default:null},userIdAll:{type:String,default:null},trajectoryType:{type:String,default:null}},components:{},data:()=>({query:{pageNum:0,pageSize:10,externalUserid:"",userId:null,trajectoryType:null},loading:!1,total:0,list:[],dictTrackState:t,dateFormat:e,goto:!0,stage:[]}),computed:{},watch:{stageList:{deep:!0,immediate:!0,handler(t){t&&(this.stage=t)}}},created(){this.getList(1)},mounted(){},methods:{getList(t){Object.assign(this.query,{externalUserid:this.$route.query.externalUserid,weUserId:this.userId}),t&&(this.query.pageNum=t),this.loading=!0,a(this.query).then((({rows:t,total:e})=>{this.list=t,this.total=+e,this.loading=!1})).catch((()=>{this.loading=!1}))},setValue(t){let e="";return this.stage.forEach((a=>{a.stageVal==t&&(e=a.stageKey)})),e}}},[["render",function(t,e,a,s,y,f){const b=r("el-table-column"),q=r("el-tag"),v=r("el-table"),z=r("el-pagination"),S=i("loading");return o((l(),p("div",null,[n(v,{data:y.list},{default:m((()=>[n(b,{label:"员工",align:"center",prop:"createBy"}),n(b,{label:"跟进记录",align:"center",prop:"trackContent"}),n(b,{prop:"trackState",label:"商机阶段",align:"center"},{default:m((({row:t})=>[t.trackState?(l(),u(q,{key:0},{default:m((()=>[d(g(f.setValue(t.trackState)),1)])),_:2},1024)):c("",!0)])),_:1}),n(b,{label:"跟进记录时间",align:"center",prop:"createTime"})])),_:1},8,["data"]),j("div",h,[n(z,{class:"mt10",small:"","hide-on-single-page":"",onCurrentChange:f.getList,"current-page":y.query.pageNum,"page-sizes":[10,20,50],"page-size":y.query.pageSize,layout:"total, prev, pager, next",total:y.total},null,8,["onCurrentChange","current-page","page-size","total"])])])),[[S,y.loading]])}],["__scopeId","data-v-ab4d3856"]]);export{y as default};
