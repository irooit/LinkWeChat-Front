import{_ as e}from"./quill-image-resize-module-c051113e.js";import{T as t,U as a,R as l,ai as o,o as s,c as i,a9 as d,K as r}from"./@vue-e400fd81.js";import"./quill-c6b3d2fb.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const u=e({components:{},model:{event:"input"},props:{modelValue:{type:[Array,String],default:void 0},remoteMethod:{type:Function,default:()=>()=>{}},queryKeywordsKey:{type:String,default:""},query:{type:Object,default:()=>({})},defaultProps:{type:Object,default:()=>({id:"id",name:"name"})}},data:()=>({loading:!0,list:[]}),watch:{query(){this.getList()}},computed:{valueP:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},created(){this.getList()},mounted(){},methods:{getList(e){this.loading=!0;let t=Object.assign({[this.queryKeywordsKey]:e},{pageNum:1,pageSize:1e3},this.query);this.remoteMethod(t).then((({data:e,rows:t})=>{let a=e||t;a.forEach((e=>{e.id=e[this.defaultProps.id],e.name=e[this.defaultProps.name]})),this.list=Object.freeze(a)})).finally((()=>{this.loading=!1}))}}},[["render",function(e,u,m,n,p,h){const c=o("el-option"),f=o("el-select");return s(),t(f,l({modelValue:h.valueP,"onUpdate:modelValue":u[0]||(u[0]=e=>h.valueP=e)},e.$attrs,{"collapse-tags":"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请选择"+(m.queryKeywordsKey?"，支持关键词搜索":""),"remote-method":h.getList,loading:p.loading,onChange:u[1]||(u[1]=t=>e.$emit("change",p.list.filter((e=>t.includes(e.id)))))}),{default:a((()=>[(s(!0),i(r,null,d(p.list,((e,a)=>(s(),t(c,{key:a,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},16,["modelValue","placeholder","remote-method","loading"])}]]);export{u as default};
