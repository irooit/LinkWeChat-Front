import e from"./chatListClassTab-8f19ff1a.js";import{d as t}from"../index-044285d2.js";import{e as a}from"./content-6f300c2d.js";import{_ as s}from"./quill-image-resize-module-c051113e.js";import{ai as o,o as i,c as l,a as r,Z as p,X as n,_ as m,U as c,K as d,a9 as j,T as u}from"./@vue-e400fd81.js";import"./chatList-5fb10f1d.js";import"./ChatContent-f938bb33.js";import"./benz-amr-recorder-259e7c16.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const b={class:"top mb10"},y={key:0,class:"name"};const h=s({components:{chatListClassTab:e},props:{queryChat:{type:Object,default:()=>({})}},data:()=>({activeTab:"all",opened:["all"],list:[{label:"全部",type:"all"},{label:"图片及视频",type:"image,video"},{label:"文件",type:"file"},{label:"链接",type:"link"},{label:"语音",type:"voice,meeting_voice_call"}]}),watch:{queryChat(){this.opened=["all"],this.activeTab="all"}},mounted(){},methods:{exportList(){this.$confirm("是否确认导出所有数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>a(this.queryChat))).then((e=>{if(!e)return;const a=new Blob([e],{type:"application/vnd.ms-excel"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(a,"会话存档");else{const e=URL.createObjectURL(a),s=document.createElement("a");s.style.display="none",s.href=e,s.download=t(new Date,"YYYY-MM-DD")+"_会话存档.xlsx",s.click(),URL.revokeObjectURL(s.href)}})).catch((function(e){}))}}},[["render",function(e,t,a,s,h,f){const v=o("chatListClassTab"),C=o("el-tab-pane"),q=o("el-tabs");return i(),l("div",null,[r("div",b,[a.queryChat?(i(),l("span",y,"与 "+p(a.queryChat.receiveName)+" 的聊天",1)):n("",!0),r("span",{class:"fr download",onClick:t[0]||(t[0]=e=>f.exportList())},"下载会话")]),m(q,{modelValue:h.activeTab,"onUpdate:modelValue":t[1]||(t[1]=e=>h.activeTab=e),onTabClick:t[2]||(t[2]=e=>h.opened.includes(e.paneName)||h.opened.push(e.paneName))},{default:c((()=>[(i(!0),l(d,null,j(h.list,((e,t)=>(i(),u(C,{key:t,label:e.label,name:e.type},{default:c((()=>[h.opened.includes(e.type)?(i(),u(v,{key:0,queryChat:a.queryChat,type:e.type},null,8,["queryChat","type"])):n("",!0)])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])])}],["__scopeId","data-v-339bf31b"]]);export{h as default};
