import{_ as e}from"../index-044285d2.js";import{_ as o}from"./quill-image-resize-module-c051113e.js";import{d as r,aU as s,ai as t,o as a,T as l,U as i,O as m,ad as p,ae as u,_ as d,c as n,K as f,Y as j,X as c,a as g}from"./@vue-e400fd81.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const _={autoCreateRoom:0},b=r({name:"",components:{SelectGroup:s((()=>e((()=>import("./SelectGroup-6de7bf46.js")),["assets/js/SelectGroup-6de7bf46.js","assets/js/group-e56f61ac.js","assets/index-044285d2.js","assets/js/js-cookie-8253c38e.js","assets/js/@vue-e400fd81.js","assets/js/vue-router-f8d53be7.js","assets/js/element-plus-68ba2566.js","assets/js/lodash-es-d4f5f48c.js","assets/js/@element-plus-214e0f7b.js","assets/js/@popperjs-b78c3215.js","assets/js/@ctrl-91de2ec7.js","assets/js/dayjs-c17bc6b2.js","assets/js/@babel-efd68da6.js","assets/js/to-fast-properties-1160b370.js","assets/js/async-validator-cf877c1f.js","assets/js/memoize-one-63ab667a.js","assets/js/normalize-wheel-es-3222b0a2.js","assets/js/@floating-ui-36fbce82.js","assets/css/element-plus-3888a320.css","assets/js/quill-image-resize-module-c051113e.js","assets/js/quill-c6b3d2fb.js","assets/js/quill-delta-a1872f89.js","assets/js/fast-diff-d5a53119.js","assets/js/lodash.clonedeep-1b6eefdc.js","assets/js/lodash.isequal-e7d08617.js","assets/js/@vueup-7cf8cfdd.js","assets/css/@vueup-da05906a.css","assets/css/quill-image-resize-module-44eb40f8.css","assets/js/pinia-1b56b17e.js","assets/js/vue-demi-71ba0ef2.js","assets/js/jsencrypt-43f479c1.js","assets/js/crypto-js-d6a67473.js","assets/js/ali-oss-912914b8.js","assets/js/axios-fb5f9e0e.js","assets/js/@vueuse-4025ce01.js","assets/js/path-browserify-289407ee.js","assets/js/nprogress-a39edb90.js","assets/css/nprogress-771398e6.css","assets/js/clipboard-7a0da8dc.js","assets/css/index-b5531375.css","assets/css/normalize-9d9ae4af.css","assets/css/SelectGroup-f405b962.css"])))},props:{form:{type:Object,default:()=>({})},isDetail:{type:Boolean,default:!1},rules:{type:Object,default:()=>({})},appendToBody:{type:Boolean,default:!1}},data:()=>({_form:{},visible:!1}),computed:{_rules(){return Object.assign({groups:[{required:!0,message:"必填项",trigger:"change"}],autoCreateRoom:[{required:!0,message:"必填项",trigger:"change"}],roomBaseName:[{required:!0,message:"必填项",trigger:"blur"}],roomBaseId:[{required:!0,message:"必填项",trigger:"blur"}]},this.rules)}},watch:{form:{deep:!0,immediate:!0,handler(e){this._form=e||JSON.parse(JSON.stringify(_))}},_form:{deep:!0,handler(e){this.change(e)}}},created(){},mounted(){},methods:{change(e){this.$emit("update:form",e)},validate(e){return this.$refs.form.validate(e)}}}),h=g("div",{class:"g-tip"},"最多选择五个客群",-1),v=g("div",{class:"g-tip"},"默认以第一个群的群主作为新建群的群主",-1);const y=o(b,[["render",function(e,o,r,s,g,_){const b=t("el-button"),y=t("SelectGroup"),B=t("TagEllipsis"),V=t("el-form-item"),q=t("el-switch"),w=t("el-input"),O=t("el-input-number"),x=t("el-form");return a(),l(x,{ref:"form","label-width":"100px","label-position":"right",rules:e._rules,model:e._form},{default:i((()=>[m(e.$slots,"default",p(u({form:e._form}))),d(V,{label:"添加客群:",prop:"groups"},{default:i((()=>[e.isDetail?c("",!0):(a(),n(f,{key:0},[d(b,{type:"primary",onClick:o[0]||(o[0]=o=>e.visible=!0)},{default:i((()=>[j("选择客群")])),_:1}),h,d(y,{visible:e.visible,"onUpdate:visible":o[1]||(o[1]=o=>e.visible=o),defaults:e._form.groups,"append-to-body":e.appendToBody,onSubmit:o[2]||(o[2]=o=>(e._form.groups=o,e.$refs.form.validateField("groups")))},null,8,["visible","defaults","append-to-body"])],64)),d(B,{list:e._form.groups,limit:"5",defaultProps:"groupName",emptyText:e.isDetail&&"无"},null,8,["list","emptyText"])])),_:1}),d(V,{label:"群满自动建群:"},{default:i((()=>[d(q,{modelValue:e._form.autoCreateRoom,"onUpdate:modelValue":o[3]||(o[3]=o=>e._form.autoCreateRoom=o),"active-value":1,"inactive-value":0},null,8,["modelValue"]),v])),_:1}),e._form.autoCreateRoom?(a(),n(f,{key:0},[d(V,{label:"群名前缀:",prop:"roomBaseName"},{default:i((()=>[d(w,{"show-word-limit":"",maxlength:"20",modelValue:e._form.roomBaseName,"onUpdate:modelValue":o[4]||(o[4]=o=>e._form.roomBaseName=o),placeholder:"请输入群名前缀"},null,8,["modelValue"])])),_:1}),d(V,{label:"群起始序号:",prop:"roomBaseId"},{default:i((()=>[d(O,{modelValue:e._form.roomBaseId,"onUpdate:modelValue":o[5]||(o[5]=o=>e._form.roomBaseId=o),"controls-position":"right",min:1},null,8,["modelValue"])])),_:1})],64)):c("",!0)])),_:3},8,["rules","model"])}]]);export{y as default};
