import{c as e}from"./scriptCenter-9e8c6ca2.js";import"./clipboard-7a0da8dc.js";import t from"./PicTitContent-8b500b6d.js";import{_ as a}from"./quill-image-resize-module-c051113e.js";import{ai as l,aq as o,o as i,c as r,_ as s,U as n,V as d,T as p,a as u,Z as c,Y as m,X as w,bl as b,bj as f}from"./@vue-e400fd81.js";const g={components:{PicTitContent:t},props:{visible:{type:Boolean,default:!1},query:{type:Object,default:()=>({talkId:""})},talkType:{type:String,default:""},resourceType:{type:String,default:""}},watch:{visible:{handler(e){this.dialogVisible=e,this.dialogVisible&&this.getList()},immediate:!0}},data:()=>({loading:!1,tableData:[],dialogVisible:!1}),methods:{preview(e){window.open(window.lwConfig.PRIVIEW_PATH+e.id+"&otherModle="+!0,"_blank")},deltype(e){switch(e){case"4":return"文本";case"0":return"图片";case"9":return"图文";case"11":return"小程序";case"12":return"文章";case"2":return"视频";case"3":return"文件";case"5":return"海报";case"19":return"外链"}},coverContent:e=>(e&&e.length>50&&(e=e.substr(0,50)+"..."),e),dialogClose(){this.$emit("visibleChange",!1)},getList(){let t={};t.talkId=this.query.id,t.talkType=this.talkType,t.resourceType=this.resourceType,e(t).then((e=>{this.tableData=e.data}))}},mounted(){}},h=["href"],y=["href"],T=(e=>(b("data-v-2cbc049a"),e=e(),f(),e))((()=>u("span",null,"预览",-1)));const v=a(g,[["render",function(e,t,a,b,f,g){const v=l("PicTitContent"),_=l("el-table-column"),k=l("el-button"),C=l("el-table"),V=l("el-dialog"),j=o("loading");return i(),r("div",null,[s(V,{title:"话术素材",modelValue:f.dialogVisible,"onUpdate:modelValue":t[0]||(t[0]=e=>f.dialogVisible=e),width:"60%","append-to-body":"","close-on-click-modal":!1,onClose:g.dialogClose},{default:n((()=>[d((i(),p(C,{data:f.tableData,ref:"singleTable"},{default:n((()=>[s(_,{prop:"name",align:"center",label:"素材",width:"260"},{default:n((({row:e})=>[s(v,{row:e},null,8,["row"])])),_:1}),s(_,{prop:"mediaType",width:"50",label:"类型",align:"center"},{default:n((({row:e})=>[u("div",null,c(g.deltype(e.mediaType)),1)])),_:1}),s(_,{label:"发送总次数",align:"center",prop:"sendTotalNum","show-overflow-tooltip":!0},{default:n((e=>[m(c(e.row.sendTotalNum||"-"),1)])),_:1}),s(_,{label:"查看总次数",align:"center",prop:"viewTotalNum","show-overflow-tooltip":!0},{default:n((e=>[m(c(e.row.viewTotalNum||"-"),1)])),_:1}),s(_,{label:"查看总人数",align:"center",prop:"viewByTotalNum","show-overflow-tooltip":!0},{default:n((e=>[m(c(e.row.viewByTotalNum||"-"),1)])),_:1}),s(_,{prop:"height",label:"操作",align:"center"},{default:n((t=>[["2","5","9"].includes(t.row.mediaType)?(i(),p(k,{key:0,text:""},{default:n((()=>[u("a",{href:t.row.materialUrl,target:"_blank"},"预览",8,h)])),_:2},1024)):w("",!0),"3"==t.row.mediaType?(i(),p(k,{key:1,text:""},{default:n((()=>[u("a",{href:e.$previewFile(t.row.materialUrl),target:"_blank"},"预览",8,y)])),_:2},1024)):w("",!0),"12"==t.row.mediaType?(i(),p(k,{key:2,text:"",onClick:e=>g.preview(t.row)},{default:n((()=>[T])),_:2},1032,["onClick"])):w("",!0)])),_:1})])),_:1},8,["data"])),[[j,f.loading]])])),_:1},8,["modelValue","onClose"])])}],["__scopeId","data-v-2cbc049a"]]);export{v as S};
