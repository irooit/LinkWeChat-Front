import{h as e}from"./api-49257dfd.js";import{_ as t}from"./quill-image-resize-module-c051113e.js";import{ai as i,aq as a,o,c as l,_ as s,U as r,Y as p,a as m,V as u,T as d}from"./@vue-e400fd81.js";import"../index-044285d2.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const n={class:"g-card"};const c=t({name:"quality-records",data:()=>({dialogVisible:!1,query:{dateTime:"",userName:"",pageNum:1,pageSize:10},list:[],loading:!1,total:0}),created(){this.getList()},methods:{goRoute(e,t){this.$router.push({path:e,query:{id:t}})},handleSearch(){this.query.pageNum=1,this.getList()},getList(){this.loading=!0,e(this.query).then((e=>{200==e.code&&(this.list=e.rows,this.total=Number(e.total)),this.loading=!1})).catch((()=>{this.loading=!1}))},resetQuery(){this.query={pageSize:10,pageNum:1,dateTime:"",userName:""},this.getList()}}},[["render",function(e,t,c,j,g,h){const f=i("el-input"),y=i("el-form-item"),q=i("el-date-picker"),b=i("el-button"),w=i("el-form"),N=i("el-table-column"),_=i("el-table"),k=i("pagination"),v=a("loading");return o(),l("div",null,[s(w,{ref:"queryForm",model:g.query,inline:"",class:"top-search","label-position":"left","label-width":""},{default:r((()=>[s(y,{label:"成员",prop:"userIds"},{default:r((()=>[s(f,{modelValue:g.query.userName,"onUpdate:modelValue":t[0]||(t[0]=e=>g.query.userName=e),placeholder:"请输入成员名称"},null,8,["modelValue"])])),_:1}),s(y,{label:"选择时间"},{default:r((()=>[s(q,{modelValue:g.query.dateTime,"onUpdate:modelValue":t[1]||(t[1]=e=>g.query.dateTime=e),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",type:"date"},null,8,["modelValue"])])),_:1}),s(y,{label:""},{default:r((()=>[s(b,{type:"primary",onClick:h.handleSearch},{default:r((()=>[p("查询")])),_:1},8,["onClick"]),s(b,{onClick:h.resetQuery},{default:r((()=>[p("重置")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),m("div",n,[u((o(),d(_,{data:g.list},{default:r((()=>[s(N,{label:"质检周期",align:"center",width:"180",prop:"weeklyTime","show-overflow-tooltip":""}),s(N,{label:"目标发送成员",align:"center",prop:"userName"}),s(N,{label:"发送时间",align:"center",prop:"sendTime",width:"180"}),s(N,{label:"操作",align:"center",fixed:"right",width:"180"},{default:r((({row:e})=>[s(b,{text:"",onClick:t=>h.goRoute("recordsStatistic",e.id)},{default:r((()=>[p("统计")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[v,g.loading]]),s(k,{total:g.total,page:g.query.pageNum,"onUpdate:page":t[2]||(t[2]=e=>g.query.pageNum=e),limit:g.query.pageSize,"onUpdate:limit":t[3]||(t[3]=e=>g.query.pageSize=e),onPagination:t[4]||(t[4]=e=>h.getList())},null,8,["total","page","limit"])])])}]]);export{c as default};
