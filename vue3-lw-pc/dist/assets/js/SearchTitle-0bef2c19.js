import{h as t}from"./moment-8163541f.js";import{a as e}from"./smartForms-eaa9db9a.js";import{_ as s}from"./quill-image-resize-module-c051113e.js";import{ai as a,o as i,c as o,a as r,_ as l,U as m,Y as p,X as d,K as n,a9 as u,T as c}from"./@vue-e400fd81.js";import"../index-044285d2.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const h={name:"search-title",props:{showScene:{type:Boolean,default:!1},showMember:{type:Boolean,default:!1},id:{type:String,default:""}},data:()=>({active:1,value:[],options:[{value:10,label:"1123"}],value2:[],data:{startDate:"",endDate:""},sceneList:[],customerList:[],manList:[]}),methods:{setMemeber(t){t?(this.data.userIds="",this.customerList.forEach((e=>{e.openKfId===t&&(this.manList=e.userIdList)}))):(this.manList=[],this.data.userIds=""),this.submit()},selectMember(t){this.submit()},submit(){this.$emit("search",this.data)},setTime(e){e?(this.data.startDate=t(e[0]).format("YYYY-MM-DD"),this.data.endDate=t(e[1]).format("YYYY-MM-DD")):(this.data.startDate="",this.data.endDate=""),this.submit()},setType(e){if(this.active=e,1===e){const e=t().subtract(6,"days").format("YYYY-MM-DD"),s=t().format("YYYY-MM-DD");this.data.startDate=e,this.data.endDate=s,this.data.type="week",this.submit()}else 2===e?(this.data.endDate=t().format("YYYY-MM-DD"),this.data.startDate=t().subtract(29,"days").format("YYYY-MM-DD"),this.data.type="month",this.submit()):3==e&&(this.data.type="customization")}},created(){this.showScene&&e(this.id).then((t=>{this.sceneList=t.data||{channelsName:""},this.sceneList.channelsName=this.sceneList.channelsName.split(","),this.data.dataSource=this.sceneList.channelsName[0],this.$emit("search",this.data)})),this.setType(1)}},j={class:"search"},y={class:"item"},f={key:0,class:"item"},Y={key:1,class:"item"};const b=s(h,[["render",function(t,e,s,h,b,v){const D=a("el-button"),M=a("el-button-group"),L=a("el-date-picker"),g=a("el-option"),k=a("el-select");return i(),o("div",j,[r("div",y,[l(M,null,{default:m((()=>[l(D,{onClick:e[0]||(e[0]=t=>v.setType(1)),type:1===b.active?"primary":""},{default:m((()=>[p("近一周")])),_:1},8,["type"]),l(D,{onClick:e[1]||(e[1]=t=>v.setType(2)),type:2===b.active?"primary":""},{default:m((()=>[p("近一月")])),_:1},8,["type"]),l(D,{onClick:e[2]||(e[2]=t=>v.setType(3)),type:3===b.active?"primary":""},{default:m((()=>[p("自定义")])),_:1},8,["type"])])),_:1})]),3===b.active?(i(),o("div",f,[l(L,{style:{width:"250px"},onChange:v.setTime,clearable:"",modelValue:b.value,"onUpdate:modelValue":e[3]||(e[3]=t=>b.value=t),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["onChange","modelValue"])])):d("",!0),s.showScene?(i(),o("div",Y,[l(k,{onChange:e[4]||(e[4]=t=>v.submit()),modelValue:b.data.dataSource,"onUpdate:modelValue":e[5]||(e[5]=t=>b.data.dataSource=t),placeholder:"请选择渠道"},{default:m((()=>[(i(!0),o(n,null,u(b.sceneList.channelsName,((t,e)=>(i(),c(g,{key:e,value:t,label:t},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])):d("",!0)])}],["__scopeId","data-v-0b004dde"]]);export{b as default};
