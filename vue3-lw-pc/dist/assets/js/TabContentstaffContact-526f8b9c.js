import e from"./ChartBar-39a01942.js";import{d as t,e as i}from"./conversationAnalysis-436e658e.js";import{_ as s}from"./quill-image-resize-module-c051113e.js";import{ai as a,o as r,c as o,a as n,_ as m,U as l,Y as p,T as d,X as u}from"./@vue-e400fd81.js";import"./echarts-8e7b9cd7.js";import"./tslib-a4e99503.js";import"./zrender-da4e2cf7.js";import"../index-044285d2.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";import"./lodash.merge-f1a4e0c2.js";const g={class:"operation"};const j=s({name:"",components:{ChartBar:e},props:{type:{type:String,default:""}},data:()=>({loading:!1,timeRange:7,legend:{num:["员工单聊数"],time:["平均首次回复时长"]},dateRange:[],query:{beginTime:void 0,endTime:void 0},num:{xData:[],series:[]},time:{xData:[],series:[]}}),computed:{},watch:{},created(){this.setTime(7)},mounted(){},methods:{getList(){this.query.beginTime=this.dateRange&&this.dateRange[0],this.query.endTime=this.dateRange&&this.dateRange[1],this.loading=!0,t(this.query).then((({data:e})=>{this.num.series=e.map((e=>e.chatCnt)),this.num.xData=e.map((e=>e.userName))})).catch((e=>{})),i(this.query).then((({data:e})=>{this.time.series=e.map((e=>e.avgReplyTime)),this.time.xData=e.map((e=>e.userName)),this.loading=!1})).catch((e=>{})).finally((()=>{this.loading=!1}))},getTime(e){const t=e?new Date(e):new Date;return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t.toJSON().substr(0,10)},setTime(e){if(this.timeRange=e,e){let t=new Date;t.setDate(t.getDate()-e),this.dateRange=[this.getTime(t),this.getTime()],this.getList()}else this.dateRange=null}}},[["render",function(e,t,i,s,j,h){const c=a("el-button"),y=a("el-button-group"),f=a("el-date-picker"),x=a("ChartBar"),D=a("el-col"),R=a("el-row");return r(),o("div",null,[n("div",g,[m(y,null,{default:l((()=>[m(c,{type:"primary",plain:7!=j.timeRange,onClick:t[0]||(t[0]=e=>h.setTime(7))},{default:l((()=>[p("近一周")])),_:1},8,["plain"]),m(c,{type:"primary",plain:30!=j.timeRange,onClick:t[1]||(t[1]=e=>h.setTime(30))},{default:l((()=>[p("近一月")])),_:1},8,["plain"]),m(c,{type:"primary",plain:!!j.timeRange,onClick:t[2]||(t[2]=e=>h.setTime())},{default:l((()=>[p("自定义")])),_:1},8,["plain"])])),_:1}),j.timeRange?u("",!0):(r(),d(f,{key:0,modelValue:j.dateRange,"onUpdate:modelValue":t[3]||(t[3]=e=>j.dateRange=e),class:"ml20",style:{width:"260px"},"value-format":"YYYY-MM-DD",type:"daterange",clearable:!1,"range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",onChange:h.getList},null,8,["modelValue","onChange"]))]),m(R,{gutter:10},{default:l((()=>[m(D,{span:12},{default:l((()=>[m(x,{xData:j.num.xData,legend:j.legend.num,series:j.num.series},null,8,["xData","legend","series"])])),_:1}),m(D,{span:12},{default:l((()=>[m(x,{legend:j.legend.time,series:j.time.series,option:{xAxis:[{type:"value"}],yAxis:[{type:"category",data:j.time.xData}]}},null,8,["legend","series","option"])])),_:1})])),_:1})])}]]);export{j as default};
