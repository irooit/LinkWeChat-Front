import{g as e}from"./group-e56f61ac.js";import{ai as t,aq as r,o as a,c as o,_ as l,U as i,Y as s,a as p,V as u,T as n,$ as m}from"./@vue-e400fd81.js";import{_ as d}from"./quill-image-resize-module-c051113e.js";import"../index-044285d2.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const c={class:"g-card"};const g=d({props:{customerGroupId:{type:String,default:""}},data:()=>({query:{groupLeader:"",groupName:"",beginTime:"",endTime:"",pageNum:1,pageSize:10},searchDate:"",loading:!1,total:0,customerGroups:[],currentRow:null}),watch:{searchDate:{deep:!0,handler(e){e&&2===e.length?[this.query.beginTime,this.query.endTime]=e:(this.query.beginTime="",this.query.endTime="")}}},created(){this.getList()},methods:{getList(){const t=Object.assign({},this.query);this.loading=!0,e(t).then((e=>{this.customerGroups=e.rows,this.total=parseInt(e.total);for(let t of this.customerGroups)t.chatId===this.customerGroupId&&(this.currentRow=t);this.loading=!1})).catch((()=>{this.loading=!1}))},handleSelectionChange(e){this.currentRow=e},resetQuery(){this.searchDate=[],this.$refs.queryForm.resetFields(),this.$nextTick((()=>{this.getList()}))},submit(){this.$emit("callback",this.currentRow)}}},[["render",function(e,d,g,h,j,f){const b=t("el-input"),y=t("el-form-item"),q=t("el-date-picker"),w=t("el-button"),v=t("el-form"),L=t("el-checkbox"),_=t("el-table-column"),k=t("el-table"),C=t("pagination"),D=r("loading");return a(),o("div",null,[l(v,{ref:"queryForm",model:j.query,inline:!0,class:"top-search","label-width":"70px"},{default:i((()=>[l(y,{label:"群名",prop:"groupName"},{default:i((()=>[l(b,{clearable:"",modelValue:j.query.groupName,"onUpdate:modelValue":d[0]||(d[0]=e=>j.query.groupName=e),placeholder:"请输入群名"},null,8,["modelValue"])])),_:1}),l(y,{label:"群主",prop:"groupLeader"},{default:i((()=>[l(b,{clearable:"",modelValue:j.query.groupLeader,"onUpdate:modelValue":d[1]||(d[1]=e=>j.query.groupLeader=e),placeholder:"请输入群主"},null,8,["modelValue"])])),_:1}),l(y,{label:"创建时间"},{default:i((()=>[l(q,{clearable:"",modelValue:j.searchDate,"onUpdate:modelValue":d[2]||(d[2]=e=>j.searchDate=e),format:"YYYY-MM-DD","value-format":"YYYYMMDD",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])])),_:1}),l(y,{label:""},{default:i((()=>[l(w,{type:"primary",onClick:f.getList},{default:i((()=>[s("查询")])),_:1},8,["onClick"]),l(w,{onClick:f.resetQuery},{default:i((()=>[s("重置")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),p("div",c,[u((a(),n(k,{data:j.customerGroups,"highlight-current-row":"",onCurrentChange:f.handleSelectionChange},{default:i((()=>[l(_,{width:"55",align:"center"},{default:i((({row:e})=>[l(L,{value:j.currentRow&&e.chatId===j.currentRow.chatId},null,8,["value"])])),_:1}),l(_,{prop:"groupName",label:"群名",align:"center"}),l(_,{prop:"memberNum",label:"群人数",align:"center"}),l(_,{prop:"groupLeaderName",label:"群主",align:"center"}),l(_,{prop:"createTime",label:"创建时间",align:"center"})])),_:1},8,["data","onCurrentChange"])),[[D,j.loading]]),u(l(C,{total:j.total,page:j.query.pageNum,"onUpdate:page":d[3]||(d[3]=e=>j.query.pageNum=e),limit:j.query.pageSize,"onUpdate:limit":d[4]||(d[4]=e=>j.query.pageSize=e),onPagination:f.getList},null,8,["total","page","limit","onPagination"]),[[m,j.total>0]])])])}]]);export{g as default};
