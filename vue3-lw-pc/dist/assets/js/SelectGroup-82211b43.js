import{_ as e}from"./quill-image-resize-module-c051113e.js";import{ai as s,o as t,c as l,_ as o,U as a,Y as i,T as r,a as u,X as m,Z as d,K as p,a9 as c}from"./@vue-e400fd81.js";import"./quill-c6b3d2fb.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const n={name:"select-group",data:()=>({form:{type:0},selectCustomerGroupList:[],dialogVisibleSelectCustomerGroup:!1}),props:{dataObj:{type:Object,default:null},isDetail:{type:Boolean,default:!1}},watch:{dataObj:{handler(e,s){e&&(this.form=e,this.setData())},deep:!0,immediate:!0}},methods:{setData(){if(this.form.userIds){this.selectCustomerGroupList=[];let e=this.form.userIds.split(","),s={};e.forEach((e=>{s={userId:e,name:this.form.users[e]},this.selectCustomerGroupList.push(s)}))}},clearData(e){0==e&&(this.selectCustomerGroupList=[],this.form.userIds="",this.changeFn())},onSelectCustomerGroup(){this.dialogVisibleSelectCustomerGroup=!0},submitSelectCustomerGroup(e){this.selectCustomerGroupList=e,this.form.userIds=e.map((e=>e.userId)).join(",");let s={};e.forEach((e=>{s[e.userId]=e.name})),this.form.users=s,this.changeFn()},changeFn(){this.$emit("update",this.form)}}},f={class:"item-magin aic"},h={key:0,class:"item-name"};const b=e(n,[["render",function(e,n,b,C,G,g){const j=s("el-radio"),y=s("el-radio-group"),S=s("el-form-item"),v=s("el-button"),D=s("el-tag"),I=s("SelectUser");return t(),l("div",null,[o(S,{label:"群发客户群",required:"",prop:"type"},{default:a((()=>[o(y,{modelValue:G.form.type,"onUpdate:modelValue":n[0]||(n[0]=e=>G.form.type=e),onChange:g.clearData,disabled:b.isDetail},{default:a((()=>[o(j,{label:0},{default:a((()=>[i("全部群")])),_:1}),o(j,{label:1},{default:a((()=>[i("部分群")])),_:1})])),_:1},8,["modelValue","onChange","disabled"])])),_:1}),1==G.form.type?(t(),r(S,{key:0},{default:a((()=>[u("div",null,[u("div",f,[b.isDetail?m("",!0):(t(),l("div",h," 选择群主： ")),b.isDetail?m("",!0):(t(),r(v,{key:1,type:"primary",class:"mr10",icon:e.circle-e.plus-e.outline,plain:"",onClick:g.onSelectCustomerGroup},{default:a((()=>[i(d(G.form.userIds?"编辑":"选择")+"群主 ",1)])),_:1},8,["icon","onClick"])),(t(!0),l(p,null,c(G.selectCustomerGroupList,(e=>(t(),r(D,{key:e.userId},{default:a((()=>[i(d(e.name),1)])),_:2},1024)))),128))])])])),_:1})):m("",!0),o(I,{visible:G.dialogVisibleSelectCustomerGroup,"onUpdate:visible":n[1]||(n[1]=e=>G.dialogVisibleSelectCustomerGroup=e),title:"选择群主",destroyOnClose:"",defaultValues:G.selectCustomerGroupList,onSuccess:g.submitSelectCustomerGroup},null,8,["visible","defaultValues","onSuccess"])])}]]);export{b as default};
