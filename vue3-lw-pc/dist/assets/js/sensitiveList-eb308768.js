import{b as e}from"./security-61ce0ef0.js";import{C as t}from"./ChatContent-f938bb33.js";import{_ as s}from"./quill-image-resize-module-c051113e.js";import{ai as a,o as l,c as i,_ as o,U as r,a as p,K as m,a9 as n,T as u,Y as d,Z as c}from"./@vue-e400fd81.js";import"../index-044285d2.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";import"./benz-amr-recorder-259e7c16.js";const g={key:0,class:"tag-place"},f={class:"g-card"};const j=s({components:{ChatContent:t},data:()=>({form:{pageSize:10,pageNum:1,scopeType:"",auditScopeId:"",keyword:""},selectDate:"",dateRangeValue:"",tableData:[],queryUser:[],query:{pageNum:1,pageSize:10},total:0,dialogVisibleSelectUser:!1,floorRange:"全部",displayOptions:[{value:"0",label:"全部"},{value:"1",label:"已发送"},{value:"2",label:"已撤回"},{value:"3",label:"已删除"}]}),created(){this.getSensitiveList()},methods:{getSensitiveList(){this.form.pageSize=this.query.pageSize,this.form.pageNum=this.query.pageNum,e(this.form).then((e=>{200===e.code&&(this.tableData=e.rows,this.total=Number(e.total))}))},chechName(e){this.floorRange=0==e?"全部":1==e?"已发送":2==e?"已撤回":"切回企业日志"},selectedUser(e){this.queryUser=e,e&&e.length?this.form.scopeType=1:this.form.scopeType="",this.form.auditScopeId=e.map((e=>e.userId))+"",this.getSensitiveList()}}},[["render",function(e,t,s,j,b,h){const y=a("el-tag"),S=a("el-form-item"),v=a("el-input"),U=a("el-button"),q=a("el-form"),_=a("el-table-column"),k=a("el-table"),w=a("pagination"),z=a("SelectUser");return l(),i("div",null,[o(q,{inline:!0,model:b.form,class:"top-search"},{default:r((()=>[o(S,{label:"添加人"},{default:r((()=>[p("div",{class:"tag-input",onClick:t[0]||(t[0]=e=>b.dialogVisibleSelectUser=!0)},[b.queryUser.length?(l(!0),i(m,{key:1},n(b.queryUser,((e,t)=>(l(),u(y,{type:"info",key:t},{default:r((()=>[d(c(e.name),1)])),_:2},1024)))),128)):(l(),i("span",g,"请选择"))])])),_:1}),o(S,{label:"敏感词"},{default:r((()=>[o(v,{clearable:"",modelValue:b.form.keyword,"onUpdate:modelValue":t[1]||(t[1]=e=>b.form.keyword=e),placeholder:"请输入关键词",style:{width:"240px"}},null,8,["modelValue"])])),_:1}),o(S,null,{default:r((()=>[o(U,{type:"primary",onClick:h.getSensitiveList},{default:r((()=>[d("查询")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),p("div",f,[o(k,{data:b.tableData,stripe:"",style:{width:"100%"},"header-cell-style":{background:"#fff"}},{default:r((()=>[o(_,{prop:"patternWords",label:"敏感词"}),o(_,{prop:"content",label:"内容"},{default:r((({row:e})=>[d(c(e.content&&JSON.parse(e.content).content),1)])),_:1}),o(_,{prop:"fromName",label:"触发者"}),o(_,{prop:"status",label:"消息状态"},{default:r((({row:e})=>[o(y,null,{default:r((()=>[d(c(b.displayOptions[e.status].label),1)])),_:2},1024)])),_:1}),o(_,{prop:"msgtime",label:"发送时间"})])),_:1},8,["data"]),o(w,{"hide-on-single-page":"",total:b.total,page:b.query.pageNum,"onUpdate:page":t[2]||(t[2]=e=>b.query.pageNum=e),limit:b.query.pageSize,"onUpdate:limit":t[3]||(t[3]=e=>b.query.pageSize=e),onPagination:t[4]||(t[4]=e=>h.getSensitiveList())},null,8,["total","page","limit"])]),o(z,{visible:b.dialogVisibleSelectUser,"onUpdate:visible":t[5]||(t[5]=e=>b.dialogVisibleSelectUser=e),title:"选择添加人",isSigleSelect:!0,onSuccess:h.selectedUser},null,8,["visible","onSuccess"])])}],["__scopeId","data-v-75040c30"]]);export{j as default};
