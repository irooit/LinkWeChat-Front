import{a as t}from"./groupRobot-11796d43.js";import{ai as e,aq as i,o as s,c as o,V as a,T as r,U as l,_ as p,Y as m,Z as n,$ as u}from"./@vue-e400fd81.js";import{_ as d}from"./quill-image-resize-module-c051113e.js";import"../index-044285d2.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const g=d({name:"",components:{},props:{id:{type:[String,Number],required:!0}},data(){return{query:{pageNum:1,pageSize:10,robotId:this.id},total:0,list:[],loading:!1,typeDict:{text:"文本",image:"图片",news:"图文",video:"视频",file:"文件"}}},computed:{},watch:{},created(){this.getList()},mounted(){},methods:{getList(e){e&&(this.query.pageNum=e),this.loading=!0,t.getList(this.query).then((({rows:t,total:e})=>{this.list=t,this.total=+e})).finally((()=>{this.loading=!1}))},edit(t){this.form=Object.assign({},t||{}),t.weMessageTemplate||(t.weMessageTemplate=t),this.$emit("edit",t)}}},[["render",function(t,d,g,j,c,y){const f=e("el-table-column"),h=e("el-button"),b=e("el-table"),q=e("pagination"),v=i("loading");return s(),o("div",null,[a((s(),r(b,{data:c.list},{default:l((()=>[p(f,{label:"消息标题",align:"center",prop:"msgTitle"}),p(f,{prop:"msgType",label:"类型",align:"center"},{default:l((({row:t})=>[m(n(c.typeDict[t.msgType]),1)])),_:1}),p(f,{label:"发送时间",align:"center",prop:"sendTime"}),p(f,{label:"操作",align:"center"},{default:l((({row:t})=>[p(h,{text:"",onClick:e=>y.edit(t)},{default:l((()=>[m("详情")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[v,c.loading]]),a(p(q,{style:{"text-align":"center"},class:"mt20",total:c.total,background:!1,layout:"prev, pager, next",page:c.query.pageNum,"onUpdate:page":d[0]||(d[0]=t=>c.query.pageNum=t),limit:c.query.pageSize,"onUpdate:limit":d[1]||(d[1]=t=>c.query.pageSize=t),onPagination:d[2]||(d[2]=t=>y.getList())},null,8,["total","page","limit"]),[[u,c.total>0]])])}]]);export{g as default};
