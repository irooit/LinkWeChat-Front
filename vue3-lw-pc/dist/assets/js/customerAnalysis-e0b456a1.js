import t from"./TabContent-fa0fcd82.js";import{r as e}from"../index-044285d2.js";import{_ as a}from"./quill-image-resize-module-c051113e.js";import{ai as s,o as r,c as o,_ as i,a as l,U as n}from"./@vue-e400fd81.js";import"./group-e56f61ac.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const p=window.lwConfig.services.wecom+"/operation/customer";function u(){return e({url:p+"/getAnalysis"})}const m=Object.freeze(Object.defineProperty({__proto__:null,getAnalysis:u,getRankCnt:function(t){return e({url:p+"/getRankCnt",params:t})},getRealCnt:function(t){return e({url:p+"/getCustomerRealPageCnt",params:t})},getTotalCnt:function(t){return e({url:p+"/getTotalCnt",params:t})},realDataExport:function(t){return e({url:p+"/real/export",params:t,responseType:"blob"})}},Symbol.toStringTag,{value:"Module"})),d={name:"",components:{TabContent:t},data:()=>({cardData:[],active:"0",api:m}),computed:{},watch:{},created(){this.getList(),this.$store.setBusininessDesc("\n        <div>企业客户相关数据统计与分析</div>\n      ")},mounted(){},methods:{getList(){this.loading=!0,u().then((({data:t})=>{this.cardData=[{title:"客户总数",tips:"企业员工全部客户数量（包含重复）",value:t.totalCnt,title1:"含重复",value1:t.repeatCnt,noArrow:!0},{title:"今日新增客户",tips:"企业员工今日添加的客户数（包含重复及已流失）",value:t.tdCnt,title1:"较昨日",value1:t.ydCnt},{title:"今日流失客户",tips:"今日删除企业员工的客户数",value:t.tdLostCnt,title1:"较昨日",value1:t.ydLostCnt},{title:"今日净增客户",tips:"企业员工今日添加的客户数（不包含重复及已流失）",value:t.tdNetCnt,title1:"较昨日",value1:t.ydNetCnt},{title:"昨日发送申请",tips:"企业员工每天通过搜索手机号、扫一扫等渠道主动向客户发起的好友申请数",value:t.ydNewApplyCnt,title1:"较前日",value1:t.bydNewApplyCnt}]})).catch((t=>{})).finally((()=>{this.loading=!1}))}}},c={class:"g-card"},j=l("div",{class:"g-card-title"},"数据趋势",-1),g={class:"g-card"},v=l("div",{class:"g-card-title"},"员工客户Top10",-1),C={class:"g-card"},f=l("div",{class:"g-card-title"},"数据报表",-1);const y=a(d,[["render",function(t,e,a,p,u,m){const d=s("CardGroupIndex"),y=s("TabContent"),b=s("el-tab-pane"),h=s("el-tabs");return r(),o("div",null,[i(d,{data:u.cardData},null,8,["data"]),l("div",c,[j,i(h,{modelValue:u.active,"onUpdate:modelValue":e[0]||(e[0]=t=>u.active=t)},{default:n((()=>[i(b,{label:"客户总数"},{default:n((()=>[i(y,{type:"customerTotalChart",legend:"客户总数",request:u.api.getTotalCnt},null,8,["request"])])),_:1}),i(b,{label:"实时数据"},{default:n((()=>[i(y,{type:"realDataChart",legend:["新增客户数","流失客户数","净增客户数","发送申请数"],request:u.api.getRealCnt},null,8,["request"])])),_:1})])),_:1},8,["modelValue"])]),l("div",g,[v,i(y,{type:"staffCustomerBar",request:u.api.getRankCnt},null,8,["request"])]),l("div",C,[f,i(y,{type:"customerTotalTable",request:u.api.getRealCnt,requestExport:u.api.realDataExport},null,8,["request","requestExport"])])])}]]);export{y as default};
