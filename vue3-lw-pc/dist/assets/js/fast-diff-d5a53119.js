var n=-1,t=1,e=0;function r(h,u,f,c){if(h===u)return h?[[e,h]]:[];if(null!=f){var o=function(n,t,e){var r="number"==typeof e?{index:e,length:0}:e.oldRange,l="number"==typeof e?null:e.newRange,i=n.length,s=t.length;if(0===r.length&&(null===l||0===l.length)){var g=r.index,h=n.slice(0,g),u=n.slice(g),f=l?l.index:null,c=g+s-i;if((null===f||f===c)&&!(c<0||c>s)){var o=t.slice(0,c);if((p=t.slice(c))===u){var b=Math.min(g,c);if((d=h.slice(0,b))===(x=o.slice(0,b)))return a(d,h.slice(b),o.slice(b),u)}}if(null===f||f===g){var v=g,p=(o=t.slice(0,v),t.slice(v));if(o===h){var A=Math.min(i-v,s-v);if((M=u.slice(u.length-A))===(m=p.slice(p.length-A)))return a(h,u.slice(0,u.length-A),p.slice(0,p.length-A),M)}}}if(r.length>0&&l&&0===l.length){var d=n.slice(0,r.index),M=n.slice(r.index+r.length);if(!(s<(b=d.length)+(A=M.length))){var x=t.slice(0,b),m=t.slice(s-A);if(d===x&&M===m)return a(d,n.slice(b,i-A),t.slice(b,s-A),M)}}return null}(h,u,f);if(o)return o}var b=i(h,u),v=h.substring(0,b);b=s(h=h.substring(b),u=u.substring(b));var p=h.substring(h.length-b),A=function(g,h){var u;if(!g)return[[t,h]];if(!h)return[[n,g]];var f=g.length>h.length?g:h,c=g.length>h.length?h:g,a=f.indexOf(c);if(-1!==a)return u=[[t,f.substring(0,a)],[e,c],[t,f.substring(a+c.length)]],g.length>h.length&&(u[0][0]=u[2][0]=n),u;if(1===c.length)return[[n,g],[t,h]];var o=function(n,t){var e=n.length>t.length?n:t,r=n.length>t.length?t:n;if(e.length<4||2*r.length<e.length)return null;function l(n,t,e){for(var r,l,g,h,u=n.substring(e,e+Math.floor(n.length/4)),f=-1,c="";-1!==(f=t.indexOf(u,f+1));){var a=i(n.substring(e),t.substring(f)),o=s(n.substring(0,e),t.substring(0,f));c.length<o+a&&(c=t.substring(f-o,f)+t.substring(f,f+a),r=n.substring(0,e-o),l=n.substring(e+a),g=t.substring(0,f-o),h=t.substring(f+a))}return 2*c.length>=n.length?[r,l,g,h,c]:null}var g,h,u,f,c,a=l(e,r,Math.ceil(e.length/4)),o=l(e,r,Math.ceil(e.length/2));if(!a&&!o)return null;g=o?a&&a[4].length>o[4].length?a:o:a;n.length>t.length?(h=g[0],u=g[1],f=g[2],c=g[3]):(f=g[0],c=g[1],h=g[2],u=g[3]);var b=g[4];return[h,u,f,c,b]}(g,h);if(o){var b=o[0],v=o[1],p=o[2],A=o[3],d=o[4],M=r(b,p),x=r(v,A);return M.concat([[e,d]],x)}return function(e,r){for(var i=e.length,s=r.length,g=Math.ceil((i+s)/2),h=g,u=2*g,f=new Array(u),c=new Array(u),a=0;a<u;a++)f[a]=-1,c[a]=-1;f[h+1]=0,c[h+1]=0;for(var o=i-s,b=o%2!=0,v=0,p=0,A=0,d=0,M=0;M<g;M++){for(var x=-M+v;x<=M-p;x+=2){for(var m=h+x,E=(R=x===-M||x!==M&&f[m-1]<f[m+1]?f[m+1]:f[m-1]+1)-x;R<i&&E<s&&e.charAt(R)===r.charAt(E);)R++,E++;if(f[m]=R,R>i)p+=2;else if(E>s)v+=2;else if(b){if((C=h+o-x)>=0&&C<u&&-1!==c[C])if(R>=(y=i-c[C]))return l(e,r,R,E)}}for(var w=-M+A;w<=M-d;w+=2){for(var y,C=h+w,k=(y=w===-M||w!==M&&c[C-1]<c[C+1]?c[C+1]:c[C-1]+1)-w;y<i&&k<s&&e.charAt(i-y-1)===r.charAt(s-k-1);)y++,k++;if(c[C]=y,y>i)d+=2;else if(k>s)A+=2;else if(!b){if((m=h+o-w)>=0&&m<u&&-1!==f[m]){var R;E=h+(R=f[m])-m;if(R>=(y=i-y))return l(e,r,R,E)}}}}return[[n,e],[t,r]]}(g,h)}(h=h.substring(0,h.length-b),u=u.substring(0,u.length-b));return v&&A.unshift([e,v]),p&&A.push([e,p]),g(A,c),A}function l(n,t,e,l){var i=n.substring(0,e),s=t.substring(0,l),g=n.substring(e),h=t.substring(l),u=r(i,s),f=r(g,h);return u.concat(f)}function i(n,t){if(!n||!t||n.charAt(0)!==t.charAt(0))return 0;for(var e=0,r=Math.min(n.length,t.length),l=r,i=0;e<l;)n.substring(i,l)==t.substring(i,l)?i=e=l:r=l,l=Math.floor((r-e)/2+e);return h(n.charCodeAt(l-1))&&l--,l}function s(n,t){if(!n||!t||n.slice(-1)!==t.slice(-1))return 0;for(var e=0,r=Math.min(n.length,t.length),l=r,i=0;e<l;)n.substring(n.length-l,n.length-i)==t.substring(t.length-l,t.length-i)?i=e=l:r=l,l=Math.floor((r-e)/2+e);return u(n.charCodeAt(n.length-l))&&l--,l}function g(r,l){r.push([e,""]);for(var h,u=0,a=0,o=0,b="",v="";u<r.length;)if(u<r.length-1&&!r[u][1])r.splice(u,1);else switch(r[u][0]){case t:o++,v+=r[u][1],u++;break;case n:a++,b+=r[u][1],u++;break;case e:var p=u-o-a-1;if(l){if(p>=0&&c(r[p][1])){var A=r[p][1].slice(-1);if(r[p][1]=r[p][1].slice(0,-1),b=A+b,v=A+v,!r[p][1]){r.splice(p,1),u--;var d=p-1;r[d]&&r[d][0]===t&&(o++,v=r[d][1]+v,d--),r[d]&&r[d][0]===n&&(a++,b=r[d][1]+b,d--),p=d}}if(f(r[u][1])){A=r[u][1].charAt(0);r[u][1]=r[u][1].slice(1),b+=A,v+=A}}if(u<r.length-1&&!r[u][1]){r.splice(u,1);break}if(b.length>0||v.length>0){b.length>0&&v.length>0&&(0!==(h=i(v,b))&&(p>=0?r[p][1]+=v.substring(0,h):(r.splice(0,0,[e,v.substring(0,h)]),u++),v=v.substring(h),b=b.substring(h)),0!==(h=s(v,b))&&(r[u][1]=v.substring(v.length-h)+r[u][1],v=v.substring(0,v.length-h),b=b.substring(0,b.length-h)));var M=o+a;0===b.length&&0===v.length?(r.splice(u-M,M),u-=M):0===b.length?(r.splice(u-M,M,[t,v]),u=u-M+1):0===v.length?(r.splice(u-M,M,[n,b]),u=u-M+1):(r.splice(u-M,M,[n,b],[t,v]),u=u-M+2)}0!==u&&r[u-1][0]===e?(r[u-1][1]+=r[u][1],r.splice(u,1)):u++,o=0,a=0,b="",v=""}""===r[r.length-1][1]&&r.pop();var x=!1;for(u=1;u<r.length-1;)r[u-1][0]===e&&r[u+1][0]===e&&(r[u][1].substring(r[u][1].length-r[u-1][1].length)===r[u-1][1]?(r[u][1]=r[u-1][1]+r[u][1].substring(0,r[u][1].length-r[u-1][1].length),r[u+1][1]=r[u-1][1]+r[u+1][1],r.splice(u-1,1),x=!0):r[u][1].substring(0,r[u+1][1].length)==r[u+1][1]&&(r[u-1][1]+=r[u+1][1],r[u][1]=r[u][1].substring(r[u+1][1].length)+r[u+1][1],r.splice(u+1,1),x=!0)),u++;x&&g(r,l)}function h(n){return n>=55296&&n<=56319}function u(n){return n>=56320&&n<=57343}function f(n){return u(n.charCodeAt(0))}function c(n){return h(n.charCodeAt(n.length-1))}function a(r,l,i,s){return c(r)||f(s)?null:function(n){for(var t=[],e=0;e<n.length;e++)n[e][1].length>0&&t.push(n[e]);return t}([[e,r],[n,l],[t,i],[e,s]])}function o(n,t,e){return r(n,t,e,!0)}o.INSERT=t,o.DELETE=n,o.EQUAL=e;var b=o;export{b as d};
