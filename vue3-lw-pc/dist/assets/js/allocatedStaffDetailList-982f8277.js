import{g as e,a as t}from"./dimission-87304ebd.js";import{ai as o,o as s,c as i,_ as r,U as a,T as l,Y as p,V as m,$ as u}from"./@vue-e400fd81.js";import{_ as d}from"./quill-image-resize-module-c051113e.js";import"../index-044285d2.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const n={class:"page"};const h=d({name:"AllocatedStaffDetailList",components:{},props:{dateRange:{type:Array,default:()=>[]},type:{type:String,default:"customer"}},data:()=>({query:{pageNum:1,pageSize:10,handoverUserId:void 0,oldOwner:void 0,beginTime:void 0,endTime:void 0},loading:!1,total:0,list:[]}),watch:{},computed:{},created(){this.query.handoverUserId=this.$route.query.userId,this.query.oldOwner=this.$route.query.userId,this.query.leaveUserId=this.$route.query.leaveUserId,this.getList()},mounted(){},methods:{getList(o){this.dateRange&&(this.query.beginTime=this.dateRange[0],this.query.endTime=this.dateRange[1]),o&&(this.query.pageNum=o),this.loading=!0,("customer"===this.type?e:t)(this.query).then((({rows:e,total:t})=>{this.list=e,this.total=+t,this.loading=!1})).catch((()=>{this.loading=!1}))},gotoRoute(e){"customer"==this.type?this.$router.push({name:window.lwConfig.CUSTOMER_DETAIL_ROUTE_NAME,query:{externalUserid:e.externalUserid,userId:e.firstUserId}}):this.$router.push({name:window.lwConfig.GROUP_DETAIL_ROUTE_NAME,query:{chatId:e.chatId}})}}},[["render",function(e,t,d,h,j,g){const c=o("el-table-column"),y=o("el-button"),f=o("el-table"),q=o("pagination");return s(),i("div",n,[r(f,{ref:"multipleTable",data:j.list,"tooltip-effect":"dark",style:{width:"100%"}},{default:a((()=>["customer"===d.type?(s(),l(c,{key:0,prop:"customerName",label:"客户名称"})):(s(),l(c,{key:1,prop:"groupName",label:"群名称"})),r(c,{prop:"customer"===d.type?"takeUserName":"newOwnerName",label:"接替员工"},null,8,["prop"]),r(c,{prop:"deptNames",label:"接替员工所属部门","show-overflow-tooltip":""}),r(c,{prop:"allocateTime",label:"分配时间","show-overflow-tooltip":""}),r(c,{label:"操作",width:"100"},{default:a((({row:e})=>[r(y,{onClick:t=>g.gotoRoute(e),text:""},{default:a((()=>[p("查看")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),m(r(q,{total:j.total,page:j.query.pageNum,"onUpdate:page":t[0]||(t[0]=e=>j.query.pageNum=e),limit:j.query.pageSize,"onUpdate:limit":t[1]||(t[1]=e=>j.query.pageSize=e),onPagination:t[2]||(t[2]=e=>g.getList())},null,8,["total","page","limit"]),[[u,j.total>0]])])}]]);export{h as default};
