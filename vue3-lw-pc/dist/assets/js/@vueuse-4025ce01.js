import{t as e,v as t,x as n,r,f as o,n as a,u as i,y as s,z as u,l,w as c,j as f,A as d,B as v}from"./@vue-e400fd81.js";function g(e){return!!s()&&(u(e),!0)}function m(e){return"function"==typeof e?e():i(e)}const p="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const h=Object.prototype.toString,y=e=>"[object Object]"===h.call(e),w=()=>{};const b=e=>e();function S(e,t,n={}){const{eventFilter:r=b,...o}=n;return c(e,(a=r,i=t,function(...e){return new Promise(((t,n)=>{Promise.resolve(a((()=>i.apply(this,e)),{fn:i,thisArg:this,args:e})).then(t).catch(n)}))}),o);var a,i}function A(e,n,o={}){const{eventFilter:a,...i}=o,{eventFilter:s,pause:u,resume:l,isActive:c}=function(e=b){const n=r(!0);return{isActive:t(n),pause:function(){n.value=!1},resume:function(){n.value=!0},eventFilter:(...t)=>{n.value&&e(...t)}}}(a);return{stop:S(e,n,{...i,eventFilter:s}),pause:u,resume:l,isActive:c}}function k(e,t=!0,n){const r=function(e){return e||l()}();r?o(e,n):t?e():a(e)}function C(e){var t;const n=m(e);return null!=(t=null==n?void 0:n.$el)?t:n}const E=p?window:void 0;function L(...e){let t,n,r,o;if("string"==typeof e[0]||Array.isArray(e[0])?([n,r,o]=e,t=E):[t,n,r,o]=e,!t)return w;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const a=[],i=()=>{a.forEach((e=>e())),a.length=0},s=c((()=>[C(t),m(o)]),(([e,t])=>{if(i(),!e)return;const o=y(t)?{...t}:t;a.push(...n.flatMap((t=>r.map((n=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,t,n,o))))))}),{immediate:!0,flush:"post"}),u=()=>{s(),i()};return g(u),u}function O(e){const t=function(){const e=r(!1),t=l();return t&&o((()=>{e.value=!0}),t),e}();return f((()=>(t.value,Boolean(e()))))}const j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},N="__vueuse_ssr_handlers__",M=T();function T(){return N in j||(j[N]=j[N]||{}),j[N]}function F(e,t){return M[e]||t}const D={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},I="vueuse-storage";function J(e,t,n,o={}){var i;const{flush:s="pre",deep:u=!0,listenToStorageChanges:l=!0,writeDefaults:c=!0,mergeDefaults:f=!1,shallow:v,window:g=E,eventFilter:p,onError:h=(e=>{}),initOnMounted:y}=o,w=(v?d:r)("function"==typeof t?t():t);if(!n)try{n=F("getDefaultStorage",(()=>{var e;return null==(e=E)?void 0:e.localStorage}))()}catch(J){h(J)}if(!n)return w;const b=m(t),S=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}(b),C=null!=(i=o.serializer)?i:D[S],{pause:O,resume:j}=A(w,(()=>function(t){try{const r=n.getItem(e);if(null==t)N(r,null),n.removeItem(e);else{const o=C.write(t);r!==o&&(n.setItem(e,o),N(r,o))}}catch(J){h(J)}}(w.value)),{flush:s,deep:u,eventFilter:p});function N(t,r){g&&g.dispatchEvent(new CustomEvent(I,{detail:{key:e,oldValue:t,newValue:r,storageArea:n}}))}function M(t){if(!t||t.storageArea===n)if(t&&null==t.key)w.value=b;else if(!t||t.key===e){O();try{(null==t?void 0:t.newValue)!==C.write(w.value)&&(w.value=function(t){const r=t?t.newValue:n.getItem(e);if(null==r)return c&&null!=b&&n.setItem(e,C.write(b)),b;if(!t&&f){const e=C.read(r);return"function"==typeof f?f(e,b):"object"!==S||Array.isArray(e)?e:{...b,...e}}return"string"!=typeof r?r:C.read(r)}(t))}catch(J){h(J)}finally{t?a(j):j()}}}function T(e){M(e.detail)}return g&&l&&k((()=>{L(g,"storage",M),L(g,I,T),y&&M()})),y||M(),w}function _(e){return function(e,t={}){const{window:n=E}=t,o=O((()=>n&&"matchMedia"in n&&"function"==typeof n.matchMedia));let a;const i=r(!1),s=e=>{i.value=e.matches},u=()=>{a&&("removeEventListener"in a?a.removeEventListener("change",s):a.removeListener(s))},l=v((()=>{o.value&&(u(),a=n.matchMedia(m(e)),"addEventListener"in a?a.addEventListener("change",s):a.addListener(s),i.value=a.matches)}));return g((()=>{l(),u(),a=void 0})),i}("(prefers-color-scheme: dark)",e)}function V(o={}){const{selector:a="html",attribute:i="class",initialValue:s="auto",window:u=E,storage:l,storageKey:d="vueuse-color-scheme",listenToStorageChanges:v=!0,storageRef:g,emitAuto:m,disableTransition:p=!0}=o,h={auto:"",light:"light",dark:"dark",...o.modes||{}},y=_({window:u}),b=f((()=>y.value?"dark":"light")),S=g||(null==d?function(...o){if(1!==o.length)return e(...o);const a=o[0];return"function"==typeof a?t(n((()=>({get:a,set:w})))):r(a)}(s):J(d,s,l,{window:u,listenToStorageChanges:v})),A=f((()=>"auto"===S.value?b.value:S.value)),L=F("updateHTMLAttrs",((e,t,n)=>{const r="string"==typeof e?null==u?void 0:u.document.querySelector(e):C(e);if(!r)return;let o;if(p){o=u.document.createElement("style");const e="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";o.appendChild(document.createTextNode(e)),u.document.head.appendChild(o)}if("class"===t){const e=n.split(/\s/g);Object.values(h).flatMap((e=>(e||"").split(/\s/g))).filter(Boolean).forEach((t=>{e.includes(t)?r.classList.add(t):r.classList.remove(t)}))}else r.setAttribute(t,n);p&&(u.getComputedStyle(o).opacity,document.head.removeChild(o))}));function O(e){var t;L(a,i,null!=(t=h[e])?t:e)}function j(e){o.onChanged?o.onChanged(e,O):O(e)}c(A,j,{flush:"post",immediate:!0}),k((()=>j(A.value)));const N=f({get:()=>m?S.value:A.value,set(e){S.value=e}});try{return Object.assign(N,{store:S,system:b,state:A})}catch(M){return N}}function x(e={}){const{valueDark:t="dark",valueLight:n="",window:r=E}=e,o=V({...e,onChanged:(t,n)=>{var r;e.onChanged?null==(r=e.onChanged)||r.call(e,"dark"===t,n,t):n(t)},modes:{dark:t,light:n}}),a=f((()=>{if(o.system)return o.system.value;return _({window:r}).value?"dark":"light"}));return f({get:()=>"dark"===o.value,set(e){const t=e?"dark":"light";a.value===t?o.value="auto":o.value=t}})}export{x as u};
