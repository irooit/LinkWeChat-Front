import{d as e}from"../index-044285d2.js";import t from"./SelectCustomer-88c1f692.js";import s from"./SelectEndDate-6c9f798c.js";import o from"./SelectSendType-b1e10e8d.js";import{_ as i}from"./quill-image-resize-module-c051113e.js";import{ai as m,o as a,c as r,_ as l,U as n}from"./@vue-e400fd81.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";import"./businessConver-2b86f97c.js";import"./moment-8163541f.js";const p=i({name:"step3-type-3",components:{SelectCustomerVue:t,SelectSendTypeVue:o,SelectEndDateVue:s},props:{data:{type:Object,default:()=>{}},isDetail:{type:Boolean,default:!1}},watch:{data:{handler(e,t){e&&(this.form=e,this.setData())},deep:!0,immediate:!0},templateInfo(e){this.templateInfoError="",this.changeInfo(e)}},data:()=>({templateInfoError:"",templateInfo:"",previewData:[],form:{type:0,moments:{type:0,sex:null,content:"",trackState:null,addBeginTime:"",addEndTime:"",labelIds:"",userIds:"",sendType:0,taskSendTime:"",taskEndTime:""}}}),methods:{checkFn(){return!!this.templateInfo||(this.templateInfoError="请输入动态文本",!1)},setData(){this.form.moments||(this.form.moments={type:0,sex:null,content:"",trackState:null,addBeginTime:"",addEndTime:"",labelIds:"",userIds:"",sendType:0,taskSendTime:"",taskEndTime:""}),this.templateInfo=this.form.moments.content,this.$emit("previewText",{templateInfo:this.templateInfo})},changeInfo(e){this.form.moments.content=e,this.$emit("update",this.form),this.$emit("previewText",{templateInfo:this.templateInfo})},getSendType(t){this.form.moments.sendType=t.sendType,this.form.moments.taskSendTime=e(t.taskSendTime),this.$emit("update",this.form)},getEndDate(t){this.form.moments.taskEndTime=e(t.taskEndTime),this.$emit("update",this.form)},getUpdateCustomer(e){this.form.moments=e,this.$emit("update",this.form)}}},[["render",function(e,t,s,o,i,p){const d=m("SelectCustomerVue"),f=m("TextareaExtend"),u=m("el-form-item"),j=m("SelectSendTypeVue"),h=m("SelectEndDateVue"),c=m("el-form");return a(),r("div",null,[l(c,{ref:"form",model:i.form,"label-width":"100px"},{default:n((()=>[l(d,{isDetail:s.isDetail,ref:"selectCustomer",dataObj:i.form.moments,title:"发送范围",onUpdate:p.getUpdateCustomer},null,8,["isDetail","dataObj","onUpdate"]),l(u,{label:"动态文本",required:"",style:{"margin-right":"200px !important"},error:i.templateInfoError},{default:n((()=>[l(f,{disabled:s.isDetail,modelValue:i.templateInfo,"onUpdate:modelValue":t[0]||(t[0]=e=>i.templateInfo=e),toolbar:s.isDetail?[]:["emoji"],maxlength:"2000","show-word-limit":"",placeholder:"请输入",autosize:{minRows:5,maxRows:20},clearable:"",autofocus:!1},null,8,["disabled","modelValue","toolbar"])])),_:1},8,["error"]),l(j,{isDetail:s.isDetail,ref:"selectSendType",data:i.form.moments,onUpdate:p.getSendType},null,8,["isDetail","data","onUpdate"]),l(h,{isDetail:s.isDetail,ref:"selectEndDate",data:i.form.moments,onUpdate:p.getEndDate},null,8,["isDetail","data","onUpdate"])])),_:1},8,["model"])])}]]);export{p as default};
