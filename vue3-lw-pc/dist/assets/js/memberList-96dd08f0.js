import{_ as t}from"./quill-image-resize-module-c051113e.js";import{ai as e,o as i,c as s,_ as a,U as l,Y as n,X as o}from"./@vue-e400fd81.js";import"./quill-c6b3d2fb.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const d={key:0};const p=t({name:"member-list",props:{list:{type:Array,default:()=>[]}},watch:{list:{handler(t){this.setData(t)},deep:!0,immediate:!0}},data:()=>({total:0,pageSize:10,pageNum:1,dataList:[],initList:[],deleteList:[]}),methods:{setChange(t,e){this.initList.forEach((i=>{i.businessId==e&&(i.businessNumber=t)})),this.$emit("update",this.initList)},pageChange(){this.initList.length&&(this.dataList=this.initList.slice((this.pageNum-1)*this.pageSize,this.pageNum*this.pageSize))},setData(t){this.initList=t,this.total=this.initList.length,this.dataList=this.initList.slice((this.pageNum-1)*this.pageSize,this.pageNum*this.pageSize)},removeFn(t){let e=this.initList.findIndex((e=>e.businessId==t));-1!==e&&this.initList.splice(e,1),this.$emit("update",this.initList)},handleSelectionChange(t){this.deleteList=t},removeMultFn(){this.deleteList.forEach((t=>{let e=this.initList.findIndex((e=>e.businessId==t.businessId));-1!==e&&this.initList.splice(e,1)})),this.$emit("update",this.initList)}}},[["render",function(t,p,h,u,m,r){const g=e("el-button"),b=e("el-table-column"),c=e("el-input-number"),L=e("el-table"),f=e("pagination");return i(),s("div",null,[m.dataList.length?(i(),s("div",d,[a(g,{style:{float:"right","margin-bottom":"5px"},type:"primary",plain:"",onClick:p[0]||(p[0]=t=>r.removeMultFn()),disabled:!m.deleteList.length},{default:l((()=>[n(" 批量移除 ")])),_:1},8,["disabled"]),a(L,{data:m.dataList,onSelectionChange:r.handleSelectionChange},{default:l((()=>[a(b,{type:"selection",width:"55",align:"center"}),a(b,{label:"员工名称",align:"center",prop:"businessName","show-overflow-tooltip":""}),a(b,{label:"每日添加上限",align:"center",width:"150",prop:"businessNumber","show-overflow-tooltip":""},{default:l((t=>[a(c,{modelValue:t.row.businessNumber,"onUpdate:modelValue":e=>t.row.businessNumber=e,onChange:e=>r.setChange(e,t.row.businessId),min:1,max:100},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),a(b,{label:"操作",align:"center",fixed:"right"},{default:l((({row:t})=>[a(g,{type:"text",onClick:e=>r.removeFn(t.businessId)},{default:l((()=>[n("移除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"]),a(f,{total:m.total,page:m.pageNum,"onUpdate:page":p[1]||(p[1]=t=>m.pageNum=t),limit:m.pageSize,"onUpdate:limit":p[2]||(p[2]=t=>m.pageSize=t),onPagination:p[3]||(p[3]=t=>r.pageChange())},null,8,["total","page","limit"])])):o("",!0)])}]]);export{p as default};
