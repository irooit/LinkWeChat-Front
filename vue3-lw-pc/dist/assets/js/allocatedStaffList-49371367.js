import{b as e}from"./dimission-87304ebd.js";import{ai as t,aq as a,o as i,c as o,_ as s,U as l,R as r,V as m,T as p,Y as d,a as u,Z as n,$ as c}from"./@vue-e400fd81.js";import{_ as g}from"./quill-image-resize-module-c051113e.js";import"../index-044285d2.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const h={class:"page"},j={class:"g-card"};const f=g({name:"AllocatedStaffList",components:{},props:{},data:()=>({query:{isAllocate:1,pageNum:1,pageSize:10,userName:void 0,beginTime:void 0,endTime:void 0},loading:!1,total:0,list:[],dialogVisibleSelectUser:!1,dateRange:[]}),watch:{},computed:{},created(){this.getList()},mounted(){},methods:{getList(t){this.dateRange?(this.query.beginTime=this.dateRange[0],this.query.endTime=this.dateRange[1]):(this.query.beginTime="",this.query.endTime=""),t&&(this.query.pageNum=t),this.loading=!0,e(this.query).then((({rows:e,total:t})=>{this.list=e,this.total=+t,this.loading=!1})).catch((()=>{this.loading=!1}))},resetForm(){this.dateRange=[],this.$refs.queryForm.resetFields(),this.getList(1)}}},[["render",function(e,g,f,y,b,q){const w=t("el-input"),v=t("el-form-item"),N=t("el-date-picker"),_=t("el-button"),T=t("el-form"),k=t("el-table-column"),R=t("el-table"),U=t("pagination"),V=a("hasPermi");return i(),o("div",h,[s(T,{ref:"queryForm",inline:!0,model:b.query,"label-width":"",class:"top-search"},{default:l((()=>[s(v,{label:"已离职员工",prop:"userName"},{default:l((()=>[s(w,{clearable:"",modelValue:b.query.userName,"onUpdate:modelValue":g[0]||(g[0]=e=>b.query.userName=e),placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(v,{label:"离职日期"},{default:l((()=>[s(N,r({clearable:"",modelValue:b.dateRange,"onUpdate:modelValue":g[1]||(g[1]=e=>b.dateRange=e),"value-format":"YYYY-MM-DD",type:"daterange"},e.pickerOptions,{"range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"}),null,16,["modelValue"])])),_:1}),s(v,{label:""},{default:l((()=>[m((i(),p(_,{type:"primary",onClick:g[2]||(g[2]=e=>q.getList(1))},{default:l((()=>[d("查询")])),_:1})),[[V,["customerManage:dimission:query"]]]),m((i(),p(_,{onClick:g[3]||(g[3]=e=>q.resetForm("queryForm"))},{default:l((()=>[d("重置")])),_:1})),[[V,["customerManage:dimission:query"]]])])),_:1})])),_:1},8,["model"]),u("div",j,[s(R,{ref:"multipleTable",data:b.list,"tooltip-effect":"dark",style:{width:"100%"}},{default:l((()=>[s(k,{type:"index",label:"序号",width:"55"}),s(k,{prop:"userName",label:"已离职员工"}),s(k,{prop:"deptNames",label:"所属部门"}),s(k,{prop:"allocateCustomerNum",label:"已分配客户数","show-overflow-tooltip":""}),s(k,{prop:"allocateGroupNum",label:"已分配群聊数","show-overflow-tooltip":""}),s(k,{prop:"dimissionTime",label:"离职时间","show-overflow-tooltip":""},{default:l((e=>[d(n(e.row.dimissionTime),1)])),_:1}),s(k,{label:"操作",width:"100"},{default:l((t=>[m((i(),p(_,{onClick:a=>e.$router.push({path:"allocatedStaffDetail",query:{userId:t.row.userId,leaveUserId:t.row.id}}),text:""},{default:l((()=>[d(" 查看 ")])),_:2},1032,["onClick"])),[[V,["customerManage:dimission:edit"]]])])),_:1})])),_:1},8,["data"]),m(s(U,{total:b.total,page:b.query.pageNum,"onUpdate:page":g[4]||(g[4]=e=>b.query.pageNum=e),limit:b.query.pageSize,"onUpdate:limit":g[5]||(g[5]=e=>b.query.pageSize=e),onPagination:g[6]||(g[6]=e=>q.getList())},null,8,["total","page","limit"]),[[c,b.total>0]])])])}]]);export{f as default};
