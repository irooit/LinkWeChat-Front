import{S as t}from"./sortablejs-b0ad9b27.js";import{_ as a}from"./quill-image-resize-module-c051113e.js";import{d as e,ai as s,o,c as l,_ as r,U as i,T as d,X as n,O as p}from"./@vue-e400fd81.js";import"./quill-c6b3d2fb.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";const m=a(e({name:"",props:{data:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},components:{},data:()=>({tableData:[]}),computed:{},watch:{data:{immediate:!0,deep:!0,handler(t){t??(t=[]),this.tableData=JSON.parse(JSON.stringify(t)),this.tableData.forEach(((t,a)=>t._sortId??(t._sortId=a+Date.now())))}}},created(){},mounted(){this.dragSort()},methods:{dragSort(){if(!this.tableData||this.disabled)return;const a=this.$refs.table.$el.querySelector(".el-table__body-wrapper  table > tbody");this.sortable=t.create(a,{ghostClass:"sortable-ghost",setData:function(t){t.setData("Text","")},onEnd:t=>{let a=JSON.parse(JSON.stringify(this.tableData));const e=a.splice(t.oldIndex,1)[0];a.splice(t.newIndex,0,e),this.$emit("update:data",a)}})}}}),[["render",function(t,a,e,m,u,b){const c=s("svg-icon"),f=s("el-table-column"),h=s("el-table");return o(),l("div",null,[r(h,{data:t.tableData,ref:"table","row-key":"_sortId"},{default:i((()=>[t.disabled?n("",!0):(o(),d(f,{key:0,label:"",width:"50",align:"center"},{default:i((()=>[r(c,{icon:"dragIcon",style:{cursor:"move"}})])),_:1})),p(t.$slots,"default")])),_:3},8,["data"])])}]]);export{m as default};
