import{g as t}from"./common-07456f0f.js";import{b as a}from"./scriptCenter-9e8c6ca2.js";import e from"./ChartBar-39a01942.js";import s from"./ChartLine-b009fc4d.js";import i from"./SearchTitle-ceb204ee.js";import r from"./DataDetail-6f651f15.js";import{_ as o}from"./quill-image-resize-module-c051113e.js";import{ai as l,o as m,c as d,a as p,_ as n,bl as u,bj as c}from"./@vue-e400fd81.js";import"../index-044285d2.js";import"./js-cookie-8253c38e.js";/* empty css                      */import"./vue-router-f8d53be7.js";import"./element-plus-68ba2566.js";import"./lodash-es-d4f5f48c.js";import"./@element-plus-214e0f7b.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./dayjs-c17bc6b2.js";import"./@babel-efd68da6.js";import"./to-fast-properties-1160b370.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./pinia-1b56b17e.js";import"./vue-demi-71ba0ef2.js";import"./jsencrypt-43f479c1.js";import"./crypto-js-d6a67473.js";import"./ali-oss-912914b8.js";import"./axios-fb5f9e0e.js";import"./@vueuse-4025ce01.js";import"./path-browserify-289407ee.js";import"./nprogress-a39edb90.js";import"./clipboard-7a0da8dc.js";import"./quill-c6b3d2fb.js";import"./quill-delta-a1872f89.js";import"./fast-diff-d5a53119.js";import"./lodash.clonedeep-1b6eefdc.js";import"./lodash.isequal-e7d08617.js";import"./@vueup-7cf8cfdd.js";import"./echarts-8e7b9cd7.js";import"./tslib-a4e99503.js";import"./zrender-da4e2cf7.js";import"./lodash.merge-f1a4e0c2.js";import"./moment-8163541f.js";const h={components:{SearchTitle:i,ChartLine:s,ChartBar:e,DataDetail:r},data:()=>({detailForm:{},submitLoading:!1,disabled:!0,mobForm:{welcomeMsg:"",materialMsgList:[],userIds:"",userNames:""},exportLoading:!1,form:{},legend:["发送次数","查看次数","查看人数"],xdata:[],series:[],activeName:"first",cardData:[{title:"发送总次数 ",value:0,noArrow:!0},{title:"查看总次数",value:0},{title:"查看总人数",value:0},{title:"今日发送次数",value:0},{title:"今日查看次数",value:0},{title:"今日查看人数",value:0}],total:0,query:{pageSize:10,pageNum:1},tableList:[],loading:!1,searchData:{},bar1:[],bar2:[],value1:[],value2:[],tableSearch:{},treeData:[{}],talkId:""}),methods:{contentChange(t){this.mobForm.welcomeMsg=t},getTableData(t){this.query.talkId=this.talkId,this.query.beginTime=t.beginTime,this.query.endTime=t.endTime,this.getTableChangeSize()},getLineData(a){a.talkId=this.talkId,a.moduleType=2,a.talkType=0,a.resourceType=2,this.legend=["发送次数","查看次数","查看人数"],t(a).then((t=>{this.cardData[0].value=t.data.sendTotalNum,this.cardData[1].value=t.data.viewTotalNum,this.cardData[2].value=t.data.viewByTotalNum,this.cardData[3].value=t.data.sendTodayNum,this.cardData[4].value=t.data.viewTotalTodayNum,this.cardData[5].value=t.data.viewByTotalTodayNum,this.xdata=[],this.series=[];let a=[],e=[],s=[];t.data&&t.data.contentAxisVoList.length&&(t.data.contentAxisVoList.forEach((t=>{this.xdata.push(t.dateStr),a.push(t.sendNum),e.push(t.viewNum),s.push(t.viewByNum)})),this.series=[a,e,s])}))},getTableChangeSize(){this.loading=!0,this.query.talkType=0,this.query.resourceType=2,a(this.query).then((t=>{this.tableList=t.data,this.loading=!1}))}},created(){this.talkId=this.$route.query.talkId}},j=t=>(u("data-v-1161bed0"),t=t(),c(),t),g={class:"g-card"},v=j((()=>p("div",{class:"g-card-title"},"数据趋势",-1))),b={class:"data-content"},y={class:"chart-content"},T={class:"g-card"},D=j((()=>p("div",{class:"g-card-title"}," 数据明细 ",-1))),f={class:"data-content",style:{"margin-top":"20px"}};const x=o(h,[["render",function(t,a,e,s,i,r){const o=l("CardGroupIndex"),u=l("search-title"),c=l("chart-line"),h=l("DataDetail");return m(),d("div",null,[p("div",g,[v,n(o,{data:i.cardData},null,8,["data"]),p("div",b,[p("div",y,[n(u,{onSearch:r.getLineData},null,8,["onSearch"]),n(c,{style:{height:"300px"},legend:i.legend,xData:i.xdata,series:i.series},null,8,["legend","xData","series"])])])]),p("div",T,[D,p("div",null,[p("div",null,[n(u,{showToday:!0,onSearch:r.getTableData,style:{"margin-top":"20px"}},null,8,["onSearch"])]),p("div",f,[n(h,{tableList:i.tableList,timeObj:i.query,resourceType:2},null,8,["tableList","timeObj"])])])])])}],["__scopeId","data-v-1161bed0"]]);export{x as default};
